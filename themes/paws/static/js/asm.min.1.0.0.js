/*! paws v1.0.0 | (c) 2018 Chris Ferdinandi | MIT License | http://github.com/pawsnewengland/paws | Open Source Credits: https://github.com/toddmotto/fluidvids, http://prismjs.com, https://github.com/filamentgroup/loadJS/, https://github.com/filamentgroup/loadCSS, https://github.com/bramstein/fontfaceobserver */
(function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,o=this,r=o.EventEmitter;i.getListeners=function(e){var t,n,i=this._getEvents();if("object"==typeof e){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,n){var i,o=this.getListenersAsObject(e),r="object"==typeof n;for(i in o)o.hasOwnProperty(i)&&-1===t(o[i],n)&&o[i].push(r?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,n){var i,o,r=this.getListenersAsObject(e);for(o in r)r.hasOwnProperty(o)&&-1!==(i=t(r[o],n))&&r[o].splice(i,1);return this},i.off=n("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,o,r=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)r.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(o=t[i])&&("function"==typeof o?r.call(this,i,o):a.call(this,i,o));return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if("object"===n)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(e,t){var n,i,o,r=this.getListenersAsObject(e);for(o in r)if(r.hasOwnProperty(o))for(i=r[o].length;i--;)n=r[o][i],!0===n.once&&this.removeListener(e,n.listener),n.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return o.EventEmitter=r,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],(function(){return e})):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}).call(this),(function(e){function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,i=function(){};n.addEventListener?i=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(i=function(e,n,i){e[n+i]=i.handleEvent?function(){var n=t(e);i.handleEvent.call(i,n)}:function(){var n=t(e);i.call(e,n)},e.attachEvent("on"+n,e[n+i])});var o=function(){};n.removeEventListener?o=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(o=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var r={bind:i,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",r):e.eventie=r})(this),(function(e,t){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],(function(n,i){return t(e,n,i)})):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)})(window,(function(e,t,n){function i(e,t){for(var n in t)e[n]=t[n];return e}function o(e){return"[object Array]"===p.call(e)}function r(e){var t=[];if(o(e))t=e;else if("number"==typeof e.length)for(var n=0,i=e.length;n<i;n++)t.push(e[n]);else t.push(e);return t}function a(e,t,n){if(!(this instanceof a))return new a(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=r(e),this.options=i({},this.options),"function"==typeof t?n=t:i(this.options,t),n&&this.on("always",n),this.getImages(),u&&(this.jqDeferred=new u.Deferred);var o=this;setTimeout((function(){o.check()}))}function s(e){this.img=e}function l(e){this.src=e,f[e]=this}var u=e.jQuery,c=e.console,d=void 0!==c,p=Object.prototype.toString;a.prototype=new t,a.prototype.options={},a.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;e<t;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);var i=n.nodeType;if(i&&(1===i||9===i||11===i))for(var o=n.querySelectorAll("img"),r=0,a=o.length;r<a;r++){var s=o[r];this.addImage(s)}}},a.prototype.addImage=function(e){var t=new s(e);this.images.push(t)},a.prototype.check=function(){function e(e,o){return t.options.debug&&d&&c.log("confirm",e,o),t.progress(e),n++,n===i&&t.complete(),!0}var t=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return void this.complete();for(var o=0;o<i;o++){var r=this.images[o];r.on("confirm",e),r.check()}},a.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout((function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)}))},a.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout((function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var n=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[n](t)}}))},u&&(u.fn.imagesLoaded=function(e,t){return new a(this,e,t).jqDeferred.promise(u(this))}),s.prototype=new t,s.prototype.check=function(){var e=f[this.img.src]||new l(this.img.src);if(e.isConfirmed)return void this.confirm(e.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var t=this;e.on("confirm",(function(e,n){return t.confirm(e.isLoaded,n),!0})),e.check()},s.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var f={};return l.prototype=new t,l.prototype.check=function(){if(!this.isChecked){var e=new Image;n.bind(e,"load",this),n.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},l.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},l.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},l.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},l.prototype.unbindProxyEvents=function(e){n.unbind(e.target,"load",this),n.unbind(e.target,"error",this)},a}));var petListings=function(){"use strict";var e,t,n=document.querySelector('[data-asm="pet-listings"]'),i=function(e,t){var n=t||window.location.href,i=new RegExp("[?&]"+e+"=([^&#]*)","i"),o=i.exec(n);return o?o[1]:null},o=function(){return window.location.href.split("?")[0]},r=function(e){var t=new CustomEvent(e,{bubbles:!0,cancelable:!0});n.dispatchEvent(t)},a=function(){var e=document.title.split(" | ");t=e.length>1?e[1]:document.title},s=function(e){e&&e.name&&(document.title=e.name+" | "+t)},l=function(e){return e.replace(/ /g,"-").toLowerCase()},u=function(e){var t=[];return e.find((function(e){return"Small"===e.size}))&&t.push("Small"),e.find((function(e){return"Medium"===e.size}))&&t.push("Medium"),e.find((function(e){return"Large"===e.size}))&&t.push("Large"),e.find((function(e){return"Very Large"===e.size}))&&t.push("Very Large"),t},c=function(e){var t=[];return e.find((function(e){return"Baby"===e.age}))&&t.push("Baby"),e.find((function(e){return"Young"===e.age}))&&t.push("Young"),e.find((function(e){return"Adult"===e.age}))&&t.push("Adult"),e.find((function(e){return"Senior"===e.age}))&&t.push("Senior"),t},d=function(e){var t=[];return e.find((function(e){return"Male"===e.sex}))&&t.push("Male"),e.find((function(e){return"Female"===e.sex}))&&t.push("Female"),t},p=function(e){var t=[];return e.forEach((function(e){e.breeds.forEach((function(e){-1===t.indexOf(e)&&t.push(e)}))})),t.sort()},f=function(e,t,n){return'<label><input type="checkbox" data-asm-sort-type="'+n+'" data-asm-sort-target="'+l(e)+"_"+l(t)+'" checked="checked"> '+t+"</label>"},m=function(e,t,n){var i="<h2>"+t+"</h2>",o=t.toLowerCase(),r="breeds"===o?o:"attribute";return n&&(i+=f("toggle-all","Toggle All","toggle-all")),e.forEach((function(e){i+=f(o,e,r)})),i},h=function(){var e="<h2>Other Options</h2>";return e+=f("options","No Dogs","attribute"),e+=f("options","No Cats","attribute"),e+=f("options","No Kids","attribute"),e+=f("options","Special Needs","attribute")},v=function(e){var t=u(e),n=c(e),i=d(e),o=p(e),r="";return r+=m(t,"Sizes"),r+=m(n,"Ages"),r+=m(i,"Genders"),r+=m(o,"Breeds",!0),r+=h(),r='<div class="asm-filters margin-bottom" id="asm-filters">'+r+"</div>",r+='<div class="asm-filters-toggle"><button class="btn" data-asm-filters-toggle>Filter Results</button></div>'},g=function(e){var t="";return e.nodogs&&e.nocats&&e.nokids?t="No Dogs/Cats/Kids":e.nodogs&&e.nocats?t="No Dogs/Cats":e.nodogs&&e.nokids?t="No Dogs/Kids":e.nocats&&e.nokids?t="No Cats/Kids":e.nodogs?t="No Dogs":e.nocats?t="No Cats":e.nokids&&(t="No Kids"),t},y=function(e){var t=[];return e.breeds.forEach((function(e){t.push(l("breeds_"+e))})),t.join(" ")},w=function(e){var t=[];return e.nodogs&&t.push(l("options_No Dogs")),e.nocats&&t.push(l("options_No Cats")),e.nokids&&t.push(l("options_No Kids")),e.specialneeds&&t.push(l("options_Special Needs")),t.join(" ")},b=function(e){return[l("sizes_"+e.size),l("ages_"+e.age),l("genders_"+e.sex),y(e),w(e)].join(" ")},x=function(e){var t=g(e);return'<article class="grid-auto grid-asm text-center margin-bottom" data-asm-attribute="'+b(e)+'"><header><a href="?petID='+e.id+'"><figure><img class="img-photo asm-img-limit-height" alt="A photo of '+e.name+'" src="'+(e.images>0?"https://us02.sheltermanager.com/service?account=zh0572&method=animal_image&animalid="+e.id+"&seq=1":"/img/adopt-missing-photo.png")+'"></figure><h2 class="h3 no-padding-top no-margin-top no-padding-bottom no-margin-bottom">'+e.name+'</h2></a></header><div class="text-small"><div>'+[e.size,e.age,e.sex].join(", ")+'</div><div class="text-muted">'+e.breeds.join(", ")+"</div>"+(t.length>0?'<div><em class="text-muted">'+t+"</em></div>":"")+(e.specialneeds?'<div><em class="text-muted">Special Needs</em></div>':"")+"</div></article>"},E=function(e){var t="";return e.forEach((function(e){t+=x(e)})),t},_=function(e){var t=v(e),i=E(e);saferInnerHTML(n,'<h1>Our Adoptable Dogs</h1><div class="row"><div class="grid-fourth">'+t+'</div><div class="margin-bottom padding-top grid-three-fourths"><div class="row row-start-xsmall row-wrap">'+i+"</div></div></div>"),r("asmAllPets")},I=function(e,t){return t=parseInt(t,10),e.find((function(e){return parseInt(e.id,10)===t}))},C=function(){var e='<h1 class="no-margin-bottom">This dog is no longer available for adoption</h1><p><a href="'+o()+'">&larr; Back to all dogs</a></p><p><img style="width:100%;" src="https://media.giphy.com/media/yoJC2oHh0Js8DpfYR2/giphy.gif"></p><p>This dog is no longer available for adoption. Sorry! <a href="'+o()+'">Check out other dogs we have available for adoption.</a></p>';saferInnerHTML(n,e)},T=function(e){if(e.images<1)return"";for(var t="",n=0;n<e.images;n++){var i="https://us02.sheltermanager.com/service?account=zh0572&method=animal_image&animalid="+e.id+"&seq="+(n+1);t+='<a class="grid-third" data-size href="'+i+'" ><img class="img-photo asm-img-limit-height" alt="A photo of '+e.name+'" src="'+i+'"></a>'}return'<div data-photoswipe class="row row-start-xsmall row-wrap text-center margin-bottom-small">'+t+'</div><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button><button class="pswp__button pswp__button--share" title="Share"></button><button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button><button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button><button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div>'},S=function(e){var t=g(e);return'<header><h1 class="no-margin-bottom">'+e.name+'</h1><aside><p><a href="'+o()+'">&larr; Back to all dogs</a></p></aside></header>'+T(e)+'<div class="margin-bottom"><strong>Size:</strong> '+e.size+"<br><strong>Age:</strong> "+e.age+"<br><strong>Gender:</strong> "+e.sex+"<br><strong>Breeds:</strong> "+e.breeds.join(", ")+(t.length>0?"<div><em>"+t+"</em></div>":"")+(e.specialneeds?"<div><em>Special Needs</em></div>":"")+'</div><p><a class="btn" href="/adopt/application?pet='+encodeURIComponent(e.name)+"::"+e.sheltercode+'">Fill out an adoption form</a></p>'+e.description.replace(/\n/g,"<br>")},A=function(e,t){n.classList.remove("container-large");var i=I(e,t);if(!i)return void C();saferInnerHTML(n,S(i)),s(i),r("asmIndividualPet")},L=function(){saferInnerHTML(n,e)},D=function(e){var t=i("petID");if(t)return void A(e,t);_(e)};n&&(function(){e=n.innerHTML,a(),n.innerHTML="Loading..."}(),(function(){var e=sessionStorage.getItem("asmPetData");if(e)return void D(JSON.parse(e));var t=new XMLHttpRequest;t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(D(JSON.parse(t.responseText)),sessionStorage.setItem("asmPetData",t.responseText)):L())},t.open("GET","/api/adoptable-pets.json"),t.send()})())},petListingsFilter=function(){"use strict";var e=document.querySelectorAll("[data-asm-attribute]"),t=document.querySelectorAll('[data-asm-sort-type="breeds"]'),n=document.querySelectorAll('[data-asm-sort-type="attribute"]'),i=function(e){Array.from(e).forEach((function(e){e.setAttribute("hidden","hidden")}))},o=function(e){Array.from(e).forEach((function(e){e.removeAttribute("hidden")}))},r=function(){i(e),Array.from(t).forEach((function(e){var t=document.querySelectorAll('[data-asm-attribute*="'+e.getAttribute("data-asm-sort-target")+'"]');!0===e.checked&&o(t)})),Array.from(n).forEach((function(e){var t=document.querySelectorAll('[data-asm-attribute*="'+e.getAttribute("data-asm-sort-target")+'"]');!1===e.checked&&i(t)}))},a=function(e){Array.from(t).forEach((function(t){t.checked=e.checked}))},s=function(e,t){if(window.sessionStorage){var n={};Array.prototype.filter.call(document.querySelectorAll("[data-asm-sort-type]"),(function(e){n[e.getAttribute("data-asm-sort-target")]=e.checked})),sessionStorage.setItem("asmFilterState",JSON.stringify(n))}},l=function(){var e=document.querySelector("#asm-filters");e&&(e.classList.toggle("is-visible"),e.classList.contains("is-visible")&&(e.setAttribute("tabindex","-1"),e.focus()))},u=function(e){if(e.target.closest("[data-asm-filters-toggle]"))return void l();var t=e.target.closest("[data-asm-sort-target]");t&&("toggle-all"===t.getAttribute("data-asm-sort-type")&&a(t),r(),s())};document.documentElement.classList.add("asm-pet-listings-filter-loaded"),document.documentElement.addEventListener("click",u,!1),(function(){if(window.sessionStorage){var e=sessionStorage.getItem("asmFilterState");e&&(e=JSON.parse(e),Object.keys(e).forEach((function(t){var n=document.querySelector('[data-asm-sort-target="'+t+'"]');n&&(n.checked=e[t])})))}})(),r()},initPhotoSwipeFromDOM=function(e){var t=function(e){for(var e,t,n,i,o=e.childNodes,r=o.length,a=[],s=0;s<r;s++)if(e=o[s],1===e.nodeType){t=e.children,n=e.getAttribute("data-size").split("x"),i={src:e.getAttribute("href"),w:parseInt(n[0],10),h:parseInt(n[1],10),author:e.getAttribute("data-author")},i.el=e,t.length>0&&(i.msrc=t[0].getAttribute("src"),t.length>1&&(i.title=t[1].innerHTML));var l=e.getAttribute("data-med");l&&(n=e.getAttribute("data-med-size").split("x"),i.m={src:l,w:parseInt(n[0],10),h:parseInt(n[1],10)}),i.o={src:i.src,w:i.w,h:i.h},a.push(i)}return a},n=function e(t,n){return t&&(n(t)?t:e(t.parentNode,n))},i=function(e){e=e||window.event,e.preventDefault?e.preventDefault():e.returnValue=!1;var t=e.target||e.srcElement,i=n(t,(function(e){return"A"===e.tagName}));if(i){for(var r,a=i.parentNode,s=i.parentNode.childNodes,l=s.length,u=0,c=0;c<l;c++)if(1===s[c].nodeType){if(s[c]===i){r=u;break}u++}return r>=0&&o(r,a),!1}},o=function(e,n,i,o){var r,a,s,l=document.querySelectorAll(".pswp")[0];if(s=t(n),a={galleryUID:n.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(e){var t=s[e].el.children[0],n=window.pageYOffset||document.documentElement.scrollTop,i=t.getBoundingClientRect();return{x:i.left,y:i.top+n,w:i.width}},addCaptionHTMLFn:function(e,t,n){return e.title?(t.children[0].innerHTML=e.title+"<br/><small>Photo: "+e.author+"</small>",!0):(t.children[0].innerText="",!1)}},o)if(a.galleryPIDs){for(var u=0;u<s.length;u++)if(s[u].pid==e){a.index=u;break}}else a.index=parseInt(e,10)-1;else a.index=parseInt(e,10);if(!isNaN(a.index)){for(var c=document.getElementsByName("gallery-style"),d=0,p=c.length;d<p;d++)if(c[d].checked){"radio-all-controls"==c[d].id||"radio-minimal-black"==c[d].id&&(a.mainClass="pswp--minimal--dark",a.barsSize={top:0,bottom:0},a.captionEl=!1,a.fullscreenEl=!1,a.shareEl=!1,a.bgOpacity=.85,a.tapToClose=!0,a.tapToToggleControls=!1);break}i&&(a.showAnimationDuration=0),r=new PhotoSwipe(l,PhotoSwipeUI_Default,s,a);var f,m,h=!1,v=!0;r.listen("beforeResize",(function(){var e=window.devicePixelRatio?window.devicePixelRatio:1;e=Math.min(e,2.5),f=r.viewportSize.x*e,f>=1200||!r.likelyTouchDevice&&f>800||screen.width>1200?h||(h=!0,m=!0):h&&(h=!1,m=!0),m&&!v&&r.invalidateCurrItems(),v&&(v=!1),m=!1})),r.listen("gettingData",(function(e,t){!h&&"m"in t?(t.src=t.m.src,t.w=t.m.w,t.h=t.m.h):(t.src=t.o.src,t.w=t.o.w,t.h=t.o.h)})),r.init()}},r=document.querySelector(e);r&&imagesLoaded(r,(function(){for(var e=r.querySelectorAll("[data-size]"),t=0,n=e.length;t<n;t++){var o=e[t].querySelector("img");o&&e[t].setAttribute("data-size",o.naturalWidth+"x"+o.naturalHeight)}r.setAttribute("data-pswp-uid",0),r.onclick=i}))};!(function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()})(this,(function(){"use strict";return function(e,t){var n,i,o,r,a,s,l,u,c,d,p,f,m,h,v,g,y,w,b,x=this,E=!1,_=!0,I=!0,C={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},T=function(e){if(g)return!0;e=e||window.event,v.timeToIdle&&v.mouseUsed&&!c&&P();for(var n,i,o=e.target||e.srcElement,r=o.getAttribute("class")||"",a=0;a<U.length;a++)n=U[a],n.onTap&&r.indexOf("pswp__"+n.name)>-1&&(n.onTap(),i=!0);if(i){e.stopPropagation&&e.stopPropagation(),g=!0;var s=t.features.isOldAndroid?600:30;y=setTimeout((function(){g=!1}),s)}},S=function(){return!e.likelyTouchDevice||v.mouseUsed||screen.width>v.fitControlsWidth},A=function(e,n,i){t[(i?"add":"remove")+"Class"](e,"pswp__"+n)},L=function(){var e=1===v.getNumItemsFn();e!==h&&(A(i,"ui--one-slide",e),h=e)},D=function(){A(l,"share-modal--hidden",I)},k=function(){return I=!I,I?(t.removeClass(l,"pswp__share-modal--fade-in"),setTimeout((function(){I&&D()}),300)):(D(),setTimeout((function(){I||t.addClass(l,"pswp__share-modal--fade-in")}),30)),I||M(),!1},O=function(t){t=t||window.event;var n=t.target||t.srcElement;return e.shout("shareLinkClick",t,n),!!n.href&&(!!n.hasAttribute("download")||(window.open(n.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),I||k(),!1))},M=function(){for(var e,t,n,i,o,r="",a=0;a<v.shareButtons.length;a++)e=v.shareButtons[a],n=v.getImageURLForShare(e),i=v.getPageURLForShare(e),o=v.getTextForShare(e),t=e.url.replace("{{url}}",encodeURIComponent(i)).replace("{{image_url}}",encodeURIComponent(n)).replace("{{raw_image_url}}",n).replace("{{text}}",encodeURIComponent(o)),r+='<a href="'+t+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",v.parseShareButtonOut&&(r=v.parseShareButtonOut(e,r));l.children[0].innerHTML=r,l.children[0].onclick=O},F=function(e){for(var n=0;n<v.closeElClasses.length;n++)if(t.hasClass(e,"pswp__"+v.closeElClasses[n]))return!0},R=0,P=function(){clearTimeout(b),R=0,c&&x.setIdle(!1)},N=function(e){e=e||window.event;var t=e.relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(b),b=setTimeout((function(){x.setIdle(!0)}),v.timeToIdleOutside))},z=function(){v.fullscreenEl&&!t.features.isOldAndroid&&(n||(n=x.getFullscreenAPI()),n?(t.bind(document,n.eventK,x.updateFullscreen),x.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs"))},Z=function(){v.preloaderEl&&(H(!0),d("beforeChange",(function(){clearTimeout(m),m=setTimeout((function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&H(!1):H(!0)}),v.loadingIndicatorDelay)})),d("imageLoadComplete",(function(t,n){e.currItem===n&&H(!0)})))},H=function(e){f!==e&&(A(p,"preloader--active",!e),f=e)},q=function(e){var n=e.vGap;if(S()){var a=v.barsSize;if(v.captionEl&&"auto"===a.bottom)if(r||(r=t.createEl("pswp__caption pswp__caption--fake"),r.appendChild(t.createEl("pswp__caption__center")),i.insertBefore(r,o),t.addClass(i,"pswp__ui--fit")),v.addCaptionHTMLFn(e,r,!0)){var s=r.clientHeight;n.bottom=parseInt(s,10)||44}else n.bottom=a.top;else n.bottom="auto"===a.bottom?0:a.bottom;n.top=a.top}else n.top=n.bottom=0},B=function(){v.timeToIdle&&d("mouseUsed",(function(){t.bind(document,"mousemove",P),t.bind(document,"mouseout",N),w=setInterval((function(){2===++R&&x.setIdle(!0)}),v.timeToIdle/2)}))},K=function(){d("onVerticalDrag",(function(e){_&&e<.95?x.hideControls():!_&&e>=.95&&x.showControls()}));var e;d("onPinchClose",(function(t){_&&t<.9?(x.hideControls(),e=!0):e&&!_&&t>.9&&x.showControls()})),d("zoomGestureEnded",(function(){(e=!1)&&!_&&x.showControls()}))},U=[{name:"caption",option:"captionEl",onInit:function(e){o=e}},{name:"share-modal",option:"shareEl",onInit:function(e){l=e},onTap:function(){k()}},{name:"button--share",option:"shareEl",onInit:function(e){s=e},onTap:function(){k()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){a=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){p=e}}],j=function(){var e,n,o,r=function(i){if(i)for(var r=i.length,a=0;a<r;a++){e=i[a],n=e.className;for(var s=0;s<U.length;s++)o=U[s],n.indexOf("pswp__"+o.name)>-1&&(v[o.option]?(t.removeClass(e,"pswp__element--disabled"),o.onInit&&o.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};r(i.children);var a=t.getChildByClass(i,"pswp__top-bar");a&&r(a.children)};x.init=function(){t.extend(e.options,C,!0),v=e.options,i=t.getChildByClass(e.scrollWrap,"pswp__ui"),d=e.listen,K(),d("beforeChange",x.update),d("doubleTap",(function(t){var n=e.currItem.initialZoomLevel;e.getZoomLevel()!==n?e.zoomTo(n,t,333):e.zoomTo(v.getDoubleTapZoom(!1,e.currItem),t,333)})),d("preventDragEvent",(function(e,t,n){var i=e.target||e.srcElement;i&&i.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(i.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(i.tagName))&&(n.prevent=!1)})),d("bindEvents",(function(){t.bind(i,"pswpTap click",T),t.bind(e.scrollWrap,"pswpTap",x.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",x.onMouseOver)})),d("unbindEvents",(function(){I||k(),w&&clearInterval(w),t.unbind(document,"mouseout",N),t.unbind(document,"mousemove",P),t.unbind(i,"pswpTap click",T),t.unbind(e.scrollWrap,"pswpTap",x.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",x.onMouseOver),n&&(t.unbind(document,n.eventK,x.updateFullscreen),n.isFullscreen()&&(v.hideAnimationDuration=0,n.exit()),n=null)})),d("destroy",(function(){v.captionEl&&(r&&i.removeChild(r),t.removeClass(o,"pswp__caption--empty")),l&&(l.children[0].onclick=null),t.removeClass(i,"pswp__ui--over-close"),t.addClass(i,"pswp__ui--hidden"),x.setIdle(!1)})),v.showAnimationDuration||t.removeClass(i,"pswp__ui--hidden"),d("initialZoomIn",(function(){v.showAnimationDuration&&t.removeClass(i,"pswp__ui--hidden")})),d("initialZoomOut",(function(){t.addClass(i,"pswp__ui--hidden")})),d("parseVerticalMargin",q),j(),v.shareEl&&s&&l&&(I=!0),L(),B(),z(),Z()},x.setIdle=function(e){c=e,A(i,"ui--idle",e)},x.update=function(){_&&e.currItem?(x.updateIndexIndicator(),v.captionEl&&(v.addCaptionHTMLFn(e.currItem,o),A(o,"caption--empty",!e.currItem.title)),E=!0):E=!1,I||k(),L()},x.updateFullscreen=function(i){i&&setTimeout((function(){e.setScrollOffset(0,t.getScrollY())}),50),t[(n.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},x.updateIndexIndicator=function(){v.counterEl&&(a.innerHTML=e.getCurrentIndex()+1+v.indexIndicatorSep+v.getNumItemsFn())},x.onGlobalTap=function(n){n=n||window.event;var i=n.target||n.srcElement;if(!g)if(n.detail&&"mouse"===n.detail.pointerType){if(F(i))return void e.close();t.hasClass(i,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?v.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(n.detail.releasePoint))}else if(v.tapToToggleControls&&(_?x.hideControls():x.showControls()),v.tapToClose&&(t.hasClass(i,"pswp__img")||F(i)))return void e.close()},x.onMouseOver=function(e){e=e||window.event;var t=e.target||e.srcElement;A(i,"ui--over-close",F(t))},x.hideControls=function(){t.addClass(i,"pswp__ui--hidden"),_=!1},x.showControls=function(){_=!0,E||x.update(),t.removeClass(i,"pswp__ui--hidden")},x.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},x.getFullscreenAPI=function(){var t,n=document.documentElement,i="fullscreenchange";return n.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:i}:n.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+i}:n.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+i}:n.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){if(u=v.closeOnScroll,v.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return e.template[this.enterK]();e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return v.closeOnScroll=u,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}})),(function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()})(this,(function(){"use strict";return function(e,t,n,i){var o={features:null,bind:function(e,t,n,i){var o=(i?"remove":"add")+"EventListener";t=t.split(" ");for(var r=0;r<t.length;r++)t[r]&&e[o](t[r],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){o.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){o.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(o.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var i=e.length;i--;)if(e[i][n]===t)return i;return-1},extend:function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)){if(n&&e.hasOwnProperty(i))continue;e[i]=t[i]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(o.features)return o.features;var e=o.createEl(),t=e.style,n="",i={};if(i.oldIE=document.all&&!document.addEventListener,i.touch="ontouchstart"in window,window.requestAnimationFrame&&(i.raf=window.requestAnimationFrame,i.caf=window.cancelAnimationFrame),i.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!i.pointerEvent){var r=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);a&&a.length>0&&(a=parseInt(a[1],10))>=1&&a<8&&(i.isOldIOSPhone=!0)}var s=r.match(/Android\s([0-9\.]*)/),l=s?s[1]:0;l=parseFloat(l),l>=1&&(l<4.4&&(i.isOldAndroid=!0),i.androidVersion=l),i.isMobileOpera=/opera mini|opera mobi/i.test(r)}for(var u,c,d=["transform","perspective","animationName"],p=["","webkit","Moz","ms","O"],f=0;f<4;f++){n=p[f];for(var m=0;m<3;m++)u=d[m],c=n+(n?u.charAt(0).toUpperCase()+u.slice(1):u),!i[u]&&c in t&&(i[u]=c);n&&!i.raf&&(n=n.toLowerCase(),i.raf=window[n+"RequestAnimationFrame"],i.raf&&(i.caf=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]))}if(!i.raf){var h=0;i.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-h)),i=window.setTimeout((function(){e(t+n)}),n);return h=t+n,i},i.caf=function(e){clearTimeout(e)}}return i.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o.features=i,i}};o.detectFeatures(),o.features.oldIE&&(o.bind=function(e,t,n,i){t=t.split(" ");for(var o,r=(i?"detach":"attach")+"Event",a=function(){n.handleEvent.call(n)},s=0;s<t.length;s++)if(o=t[s])if("object"==typeof n&&n.handleEvent){if(i){if(!n["oldIE"+o])return!1}else n["oldIE"+o]=a;e[r]("on"+o,n["oldIE"+o])}else e[r]("on"+o,n)});var r=this,a={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){
return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};o.extend(a,i);var s,l,u,c,d,p,f,m,h,v,g,y,w,b,x,E,_,I,C,T,S,A,L,D,k,O,M,F,R,P,N,z,Z,H,q,B,K,U,j,W,Y,G,V,X,J,$,Q,ee,te,ne,ie,oe,re,ae,se,le,ue=function(){return{x:0,y:0}},ce=ue(),de=ue(),pe=ue(),fe={},me=0,he={},ve=ue(),ge=0,ye=!0,we=[],be={},xe=!1,Ee=function(e,t){o.extend(r,t.publicMethods),we.push(e)},_e=function(e){var t=Vt();return e>t-1?e-t:e<0?t+e:e},Ie={},Ce=function(e,t){return Ie[e]||(Ie[e]=[]),Ie[e].push(t)},Te=function(e){var t=Ie[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var i=0;i<t.length;i++)t[i].apply(r,n)}},Se=function(){return(new Date).getTime()},Ae=function(e){ae=e,r.bg.style.opacity=e*a.bgOpacity},Le=function(e,t,n,i,o){(!xe||o&&o!==r.currItem)&&(i/=o?o.fitRatio:r.currItem.fitRatio),e[A]=y+t+"px, "+n+"px"+w+" scale("+i+")"},De=function(e){te&&(e&&(v>r.currItem.fitRatio?xe||(ln(r.currItem,!1,!0),xe=!0):xe&&(ln(r.currItem),xe=!1)),Le(te,pe.x,pe.y,v))},ke=function(e){e.container&&Le(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Oe=function(e,t){t[A]=y+e+"px, 0px"+w},Me=function(e,t){if(!a.loop&&t){var n=c+(ve.x*me-e)/ve.x,i=Math.round(e-mt.x);(n<0&&i>0||n>=Vt()-1&&i<0)&&(e=mt.x+i*a.mainScrollEndFriction)}mt.x=e,Oe(e,d)},Fe=function(e,t){var n=ht[e]-he[e];return de[e]+ce[e]+n-n*(t/g)},Re=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},Pe=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},Ne=null,ze=function(){Ne&&(o.unbind(document,"mousemove",ze),o.addClass(e,"pswp--has_mouse"),a.mouseUsed=!0,Te("mouseUsed")),Ne=setTimeout((function(){Ne=null}),100)},Ze=function(){o.bind(document,"keydown",r),N.transform&&o.bind(r.scrollWrap,"click",r),a.mouseUsed||o.bind(document,"mousemove",ze),o.bind(window,"resize scroll",r),Te("bindEvents")},He=function(){o.unbind(window,"resize",r),o.unbind(window,"scroll",h.scroll),o.unbind(document,"keydown",r),o.unbind(document,"mousemove",ze),N.transform&&o.unbind(r.scrollWrap,"click",r),U&&o.unbind(window,f,r),Te("unbindEvents")},qe=function(e,t){var n=on(r.currItem,fe,e);return t&&(ee=n),n},Be=function(e){return e||(e=r.currItem),e.initialZoomLevel},Ke=function(e){return e||(e=r.currItem),e.w>0?a.maxSpreadZoom:1},Ue=function(e,t,n,i){return i===r.currItem.initialZoomLevel?(n[e]=r.currItem.initialPosition[e],!0):(n[e]=Fe(e,i),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))},je=function(){if(A){var t=N.perspective&&!D;return y="translate"+(t?"3d(":"("),void(w=N.perspective?", 0px)":")")}A="left",o.addClass(e,"pswp--ie"),Oe=function(e,t){t.left=e+"px"},ke=function(e){var t=e.fitRatio>1?1:e.fitRatio,n=e.container.style,i=t*e.w,o=t*e.h;n.width=i+"px",n.height=o+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},De=function(){if(te){var e=te,t=r.currItem,n=t.fitRatio>1?1:t.fitRatio,i=n*t.w,o=n*t.h;e.width=i+"px",e.height=o+"px",e.left=pe.x+"px",e.top=pe.y+"px"}}},We=function(e){var t="";a.escKey&&27===e.keyCode?t="close":a.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,r[t]()))},Ye=function(e){e&&(Y||W||ne||B)&&(e.preventDefault(),e.stopPropagation())},Ge=function(){r.setScrollOffset(0,o.getScrollY())},Ve={},Xe=0,Je=function(e){Ve[e]&&(Ve[e].raf&&O(Ve[e].raf),Xe--,delete Ve[e])},$e=function(e){Ve[e]&&Je(e),Ve[e]||(Xe++,Ve[e]={})},Qe=function(){for(var e in Ve)Ve.hasOwnProperty(e)&&Je(e)},et=function(e,t,n,i,o,r,a){var s,l=Se();$e(e);var u=function(){if(Ve[e]){if((s=Se()-l)>=i)return Je(e),r(n),void(a&&a());r((n-t)*o(s/i)+t),Ve[e].raf=k(u)}};u()},tt={shout:Te,listen:Ce,viewportSize:fe,options:a,isMainScrollAnimating:function(){return ne},getZoomLevel:function(){return v},getCurrentIndex:function(){return c},isDragging:function(){return U},isZooming:function(){return J},setScrollOffset:function(e,t){he.x=e,P=he.y=t,Te("updateScrollOffset",he)},applyZoomPan:function(e,t,n,i){pe.x=t,pe.y=n,v=e,De(i)},init:function(){if(!s&&!l){var n;r.framework=o,r.template=e,r.bg=o.getChildByClass(e,"pswp__bg"),M=e.className,s=!0,N=o.detectFeatures(),k=N.raf,O=N.caf,A=N.transform,R=N.oldIE,r.scrollWrap=o.getChildByClass(e,"pswp__scroll-wrap"),r.container=o.getChildByClass(r.scrollWrap,"pswp__container"),d=r.container.style,r.itemHolders=E=[{el:r.container.children[0],wrap:0,index:-1},{el:r.container.children[1],wrap:0,index:-1},{el:r.container.children[2],wrap:0,index:-1}],E[0].el.style.display=E[2].el.style.display="none",je(),h={resize:r.updateSize,scroll:Ge,keydown:We,click:Ye};var i=N.isOldIOSPhone||N.isOldAndroid||N.isMobileOpera;for(N.animationName&&N.transform&&!i||(a.showAnimationDuration=a.hideAnimationDuration=0),n=0;n<we.length;n++)r["init"+we[n]]();if(t){(r.ui=new t(r,o)).init()}Te("firstUpdate"),c=c||a.index||0,(isNaN(c)||c<0||c>=Vt())&&(c=0),r.currItem=Gt(c),(N.isOldIOSPhone||N.isOldAndroid)&&(ye=!1),e.setAttribute("aria-hidden","false"),a.modal&&(ye?e.style.position="fixed":(e.style.position="absolute",e.style.top=o.getScrollY()+"px")),void 0===P&&(Te("initialLayout"),P=F=o.getScrollY());var u="pswp--open ";for(a.mainClass&&(u+=a.mainClass+" "),a.showHideOpacity&&(u+="pswp--animate_opacity "),u+=D?"pswp--touch":"pswp--notouch",u+=N.animationName?" pswp--css_animation":"",u+=N.svg?" pswp--svg":"",o.addClass(e,u),r.updateSize(),p=-1,ge=null,n=0;n<3;n++)Oe((n+p)*ve.x,E[n].el.style);R||o.bind(r.scrollWrap,m,r),Ce("initialZoomInEnd",(function(){r.setContent(E[0],c-1),r.setContent(E[2],c+1),E[0].el.style.display=E[2].el.style.display="block",a.focus&&e.focus(),Ze()})),r.setContent(E[1],c),r.updateCurrItem(),Te("afterInit"),ye||(b=setInterval((function(){Xe||U||J||v!==r.currItem.initialZoomLevel||r.updateSize()}),1e3)),o.addClass(e,"pswp--visible")}},close:function(){s&&(s=!1,l=!0,Te("close"),He(),Jt(r.currItem,null,!0,r.destroy))},destroy:function(){Te("destroy"),Ut&&clearTimeout(Ut),e.setAttribute("aria-hidden","true"),e.className=M,b&&clearInterval(b),o.unbind(r.scrollWrap,m,r),o.unbind(window,"scroll",r),bt(),Qe(),Ie=null},panTo:function(e,t,n){n||(e>ee.min.x?e=ee.min.x:e<ee.max.x&&(e=ee.max.x),t>ee.min.y?t=ee.min.y:t<ee.max.y&&(t=ee.max.y)),pe.x=e,pe.y=t,De()},handleEvent:function(e){e=e||window.event,h[e.type]&&h[e.type](e)},goTo:function(e){e=_e(e);var t=e-c;ge=t,c=e,r.currItem=Gt(c),me-=t,Me(ve.x*me),Qe(),ne=!1,r.updateCurrItem()},next:function(){r.goTo(c+1)},prev:function(){r.goTo(c-1)},updateCurrZoomItem:function(e){if(e&&Te("beforeChange",0),E[1].el.children.length){var t=E[1].el.children[0];te=o.hasClass(t,"pswp__zoom-wrap")?t.style:null}else te=null;ee=r.currItem.bounds,g=v=r.currItem.initialZoomLevel,pe.x=ee.center.x,pe.y=ee.center.y,e&&Te("afterChange")},invalidateCurrItems:function(){x=!0;for(var e=0;e<3;e++)E[e].item&&(E[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==ge){var t,n=Math.abs(ge);if(!(e&&n<2)){r.currItem=Gt(c),xe=!1,Te("beforeChange",ge),n>=3&&(p+=ge+(ge>0?-3:3),n=3);for(var i=0;i<n;i++)ge>0?(t=E.shift(),E[2]=t,p++,Oe((p+2)*ve.x,t.el.style),r.setContent(t,c-n+i+1+1)):(t=E.pop(),E.unshift(t),p--,Oe(p*ve.x,t.el.style),r.setContent(t,c+n-i-1-1));if(te&&1===Math.abs(ge)){var o=Gt(_);o.initialZoomLevel!==v&&(on(o,fe),ln(o),ke(o))}ge=0,r.updateCurrZoomItem(),_=c,Te("afterChange")}}},updateSize:function(t){if(!ye&&a.modal){var n=o.getScrollY();if(P!==n&&(e.style.top=n+"px",P=n),!t&&be.x===window.innerWidth&&be.y===window.innerHeight)return;be.x=window.innerWidth,be.y=window.innerHeight,e.style.height=be.y+"px"}if(fe.x=r.scrollWrap.clientWidth,fe.y=r.scrollWrap.clientHeight,Ge(),ve.x=fe.x+Math.round(fe.x*a.spacing),ve.y=fe.y,Me(ve.x*me),Te("beforeResize"),void 0!==p){for(var i,s,l,u=0;u<3;u++)i=E[u],Oe((u+p)*ve.x,i.el.style),l=c+u-1,a.loop&&Vt()>2&&(l=_e(l)),s=Gt(l),s&&(x||s.needsUpdate||!s.bounds)?(r.cleanSlide(s),r.setContent(i,l),1===u&&(r.currItem=s,r.updateCurrZoomItem(!0)),s.needsUpdate=!1):-1===i.index&&l>=0&&r.setContent(i,l),s&&s.container&&(on(s,fe),ln(s),ke(s));x=!1}g=v=r.currItem.initialZoomLevel,ee=r.currItem.bounds,ee&&(pe.x=ee.center.x,pe.y=ee.center.y,De(!0)),Te("resize")},zoomTo:function(e,t,n,i,r){t&&(g=v,ht.x=Math.abs(t.x)-pe.x,ht.y=Math.abs(t.y)-pe.y,Re(de,pe));var a=qe(e,!1),s={};Ue("x",a,s,e),Ue("y",a,s,e);var l=v,u={x:pe.x,y:pe.y};Pe(s);var c=function(t){1===t?(v=e,pe.x=s.x,pe.y=s.y):(v=(e-l)*t+l,pe.x=(s.x-u.x)*t+u.x,pe.y=(s.y-u.y)*t+u.y),r&&r(t),De(1===t)};n?et("customZoomTo",0,1,n,i||o.easing.sine.inOut,c):c(1)}},nt={},it={},ot={},rt={},at={},st=[],lt={},ut=[],ct={},dt=0,pt=ue(),ft=0,mt=ue(),ht=ue(),vt=ue(),gt=function(e,t){return e.x===t.x&&e.y===t.y},yt=function(e,t){return Math.abs(e.x-t.x)<25&&Math.abs(e.y-t.y)<25},wt=function(e,t){return ct.x=Math.abs(e.x-t.x),ct.y=Math.abs(e.y-t.y),Math.sqrt(ct.x*ct.x+ct.y*ct.y)},bt=function(){G&&(O(G),G=null)},xt=function(){U&&(G=k(xt),Nt())},Et=function(){return!("fit"===a.scaleMode&&v===r.currItem.initialZoomLevel)},_t=function(e,t){return!(!e||e===document)&&(!(e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(t(e)?e:_t(e.parentNode,t)))},It={},Ct=function(e,t){return It.prevent=!_t(e.target,a.isClickableElement),Te("preventDragEvent",e,t,It),It.prevent},Tt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},St=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},At=function(e,t,n){if(e-Z>50){var i=ut.length>2?ut.shift():{};i.x=t,i.y=n,ut.push(i),Z=e}},Lt=function(){var e=pe.y-r.currItem.initialPosition.y;return 1-Math.abs(e/(fe.y/2))},Dt={},kt={},Ot=[],Mt=function(e){for(;Ot.length>0;)Ot.pop();return L?(le=0,st.forEach((function(e){0===le?Ot[0]=e:1===le&&(Ot[1]=e),le++}))):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(Ot[0]=Tt(e.touches[0],Dt),e.touches.length>1&&(Ot[1]=Tt(e.touches[1],kt))):(Dt.x=e.pageX,Dt.y=e.pageY,Dt.id="",Ot[0]=Dt),Ot},Ft=function(e,t){var n,i,o,s,l=pe[e]+t[e],u=t[e]>0,c=mt.x+t.x,d=mt.x-lt.x;if(n=l>ee.min[e]||l<ee.max[e]?a.panEndFriction:1,l=pe[e]+t[e]*n,(a.allowPanToNext||v===r.currItem.initialZoomLevel)&&(te?"h"!==ie||"x"!==e||W||(u?(l>ee.min[e]&&(n=a.panEndFriction,ee.min[e]-l,i=ee.min[e]-de[e]),(i<=0||d<0)&&Vt()>1?(s=c,d<0&&c>lt.x&&(s=lt.x)):ee.min.x!==ee.max.x&&(o=l)):(l<ee.max[e]&&(n=a.panEndFriction,l-ee.max[e],i=de[e]-ee.max[e]),(i<=0||d>0)&&Vt()>1?(s=c,d>0&&c<lt.x&&(s=lt.x)):ee.min.x!==ee.max.x&&(o=l))):s=c,"x"===e))return void 0!==s&&(Me(s,!0),V=s!==lt.x),ee.min.x!==ee.max.x&&(void 0!==o?pe.x=o:V||(pe.x+=t.x*n)),void 0!==s;ne||V||v>r.currItem.fitRatio&&(pe[e]+=t[e]*n)},Rt=function(e){if(!("mousedown"===e.type&&e.button>0)){if(Yt)return void e.preventDefault();if(!K||"mousedown"!==e.type){if(Ct(e,!0)&&e.preventDefault(),Te("pointerDown"),L){var t=o.arraySearch(st,e.pointerId,"id");t<0&&(t=st.length),st[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=Mt(e),i=n.length;X=null,Qe(),U&&1!==i||(U=oe=!0,o.bind(window,f,r),q=se=re=B=V=Y=j=W=!1,ie=null,Te("firstTouchStart",n),Re(de,pe),ce.x=ce.y=0,Re(rt,n[0]),Re(at,rt),lt.x=ve.x*me,ut=[{x:rt.x,y:rt.y}],Z=z=Se(),qe(v,!0),bt(),xt()),!J&&i>1&&!ne&&!V&&(g=v,W=!1,J=j=!0,ce.y=ce.x=0,Re(de,pe),Re(nt,n[0]),Re(it,n[1]),St(nt,it,vt),ht.x=Math.abs(vt.x)-pe.x,ht.y=Math.abs(vt.y)-pe.y,$=Q=wt(nt,it))}}},Pt=function(e){if(e.preventDefault(),L){var t=o.arraySearch(st,e.pointerId,"id");if(t>-1){var n=st[t];n.x=e.pageX,n.y=e.pageY}}if(U){var i=Mt(e);if(ie||Y||J)X=i;else if(mt.x!==ve.x*me)ie="h";else{var r=Math.abs(i[0].x-rt.x)-Math.abs(i[0].y-rt.y);Math.abs(r)>=10&&(ie=r>0?"h":"v",X=i)}}},Nt=function(){if(X){var e=X.length;if(0!==e)if(Re(nt,X[0]),ot.x=nt.x-rt.x,ot.y=nt.y-rt.y,J&&e>1){if(rt.x=nt.x,rt.y=nt.y,!ot.x&&!ot.y&&gt(X[1],it))return;Re(it,X[1]),W||(W=!0,Te("zoomGestureStarted"));var t=wt(nt,it),n=Bt(t);n>r.currItem.initialZoomLevel+r.currItem.initialZoomLevel/15&&(se=!0);var i=1,o=Be(),s=Ke();if(n<o)if(a.pinchToClose&&!se&&g<=r.currItem.initialZoomLevel){var l=o-n,u=1-l/(o/1.2);Ae(u),Te("onPinchClose",u),re=!0}else i=(o-n)/o,i>1&&(i=1),n=o-i*(o/3);else n>s&&(i=(n-s)/(6*o),i>1&&(i=1),n=s+i*o);i<0&&(i=0),$=t,St(nt,it,pt),ce.x+=pt.x-vt.x,ce.y+=pt.y-vt.y,Re(vt,pt),pe.x=Fe("x",n),pe.y=Fe("y",n),q=n>v,v=n,De()}else{if(!ie)return;if(oe&&(oe=!1,Math.abs(ot.x)>=10&&(ot.x-=X[0].x-at.x),Math.abs(ot.y)>=10&&(ot.y-=X[0].y-at.y)),rt.x=nt.x,rt.y=nt.y,0===ot.x&&0===ot.y)return;if("v"===ie&&a.closeOnVerticalDrag&&!Et()){ce.y+=ot.y,pe.y+=ot.y;var c=Lt();return B=!0,Te("onVerticalDrag",c),Ae(c),void De()}At(Se(),nt.x,nt.y),Y=!0,ee=r.currItem.bounds;var d=Ft("x",ot);d||(Ft("y",ot),Pe(pe),De())}}},zt=function(e){if(N.isOldAndroid){if(K&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(K),K=setTimeout((function(){K=0}),600))}Te("pointerUp"),Ct(e,!1)&&e.preventDefault();var t;if(L){var n=o.arraySearch(st,e.pointerId,"id");if(n>-1)if(t=st.splice(n,1)[0],navigator.pointerEnabled)t.type=e.pointerType||"mouse";else{var i={4:"mouse",2:"touch",3:"pen"};t.type=i[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}}var s,l=Mt(e),u=l.length;if("mouseup"===e.type&&(u=0),2===u)return X=null,!0;1===u&&Re(at,l[0]),0!==u||ie||ne||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),Te("touchRelease",e,t));var c=-1;if(0===u&&(U=!1,o.unbind(window,f,r),bt(),J?c=0:-1!==ft&&(c=Se()-ft)),ft=1===u?Se():-1,s=-1!==c&&c<150?"zoom":"swipe",J&&u<2&&(J=!1,1===u&&(s="zoomPointerUp"),Te("zoomGestureEnded")),X=null,Y||W||ne||B)if(Qe(),H||(H=Zt()),H.calculateSwipeSpeed("x"),B){var d=Lt();if(d<a.verticalDragRange)r.close();else{var p=pe.y,m=ae;et("verticalDrag",0,1,300,o.easing.cubic.out,(function(e){pe.y=(r.currItem.initialPosition.y-p)*e+p,Ae((1-m)*e+m),De()})),Te("onVerticalDrag",1)}}else{if((V||ne)&&0===u){var h=qt(s,H);if(h)return;s="zoomPointerUp"}if(!ne)return"swipe"!==s?void Kt():void(!V&&v>r.currItem.fitRatio&&Ht(H))}},Zt=function(){var e,t,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(i){ut.length>1?(e=Se()-Z+50,t=ut[ut.length-2][i]):(e=Se()-z,t=at[i]),n.lastFlickOffset[i]=rt[i]-t,n.lastFlickDist[i]=Math.abs(n.lastFlickOffset[i]),n.lastFlickDist[i]>20?n.lastFlickSpeed[i]=n.lastFlickOffset[i]/e:n.lastFlickSpeed[i]=0,Math.abs(n.lastFlickSpeed[i])<.1&&(n.lastFlickSpeed[i]=0),n.slowDownRatio[i]=.95,n.slowDownRatioReverse[i]=1-n.slowDownRatio[i],n.speedDecelerationRatio[i]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(pe[e]>ee.min[e]?n.backAnimDestination[e]=ee.min[e]:pe[e]<ee.max[e]&&(n.backAnimDestination[e]=ee.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,et("bounceZoomPan"+e,pe[e],n.backAnimDestination[e],t||300,o.easing.sine.out,(function(t){pe[e]=t,De()})))))},calculateAnimOffset:function(e){n.backAnimStarted[e]||(n.speedDecelerationRatio[e]=n.speedDecelerationRatio[e]*(n.slowDownRatio[e]+n.slowDownRatioReverse[e]-n.slowDownRatioReverse[e]*n.timeDiff/10),n.speedDecelerationRatioAbs[e]=Math.abs(n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]),n.distanceOffset[e]=n.lastFlickSpeed[e]*n.speedDecelerationRatio[e]*n.timeDiff,pe[e]+=n.distanceOffset[e])},panAnimLoop:function(){if(Ve.zoomPan&&(Ve.zoomPan.raf=k(n.panAnimLoop),n.now=Se(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),De(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return pe.x=Math.round(pe.x),pe.y=Math.round(pe.y),De(),void Je("zoomPan")}};return n},Ht=function(e){if(e.calculateSwipeSpeed("y"),ee=r.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05)return e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0;$e("zoomPan"),e.lastNow=Se(),e.panAnimLoop()},qt=function(e,t){var n;ne||(dt=c);var i;if("swipe"===e){var s=rt.x-at.x,l=t.lastFlickDist.x<10;s>30&&(l||t.lastFlickOffset.x>20)?i=-1:s<-30&&(l||t.lastFlickOffset.x<-20)&&(i=1)}var u;i&&(c+=i,c<0?(c=a.loop?Vt()-1:0,u=!0):c>=Vt()&&(c=a.loop?0:Vt()-1,u=!0),u&&!a.loop||(ge+=i,me-=i,n=!0));var d,p=ve.x*me,f=Math.abs(p-mt.x);return n||p>mt.x==t.lastFlickSpeed.x>0?(d=Math.abs(t.lastFlickSpeed.x)>0?f/Math.abs(t.lastFlickSpeed.x):333,d=Math.min(d,400),d=Math.max(d,250)):d=333,dt===c&&(n=!1),ne=!0,Te("mainScrollAnimStart"),et("mainScroll",mt.x,p,d,o.easing.cubic.out,Me,(function(){Qe(),ne=!1,dt=-1,(n||dt!==c)&&r.updateCurrItem(),Te("mainScrollAnimComplete")})),n&&r.updateCurrItem(!0),n},Bt=function(e){return 1/Q*e*g},Kt=function(){var e=v,t=Be(),n=Ke();v<t?e=t:v>n&&(e=n);var i,a=ae;return re&&!q&&!se&&v<t?(r.close(),!0):(re&&(i=function(e){Ae((1-a)*e+a)}),r.zoomTo(e,0,200,o.easing.cubic.out,i),!0)};Ee("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,i,o){I=e+t,C=e+n,T=e+i,S=o?e+o:""};L=N.pointerEvent,L&&N.touch&&(N.touch=!1),L?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):N.touch?(e("touch","start","move","end","cancel"),D=!0):e("mouse","down","move","up"),f=C+" "+T+" "+S,m=I,L&&!D&&(D=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),r.likelyTouchDevice=D,h[I]=Rt,h[C]=Pt,h[T]=zt,S&&(h[S]=h[T]),N.touch&&(m+=" mousedown",f+=" mousemove mouseup",h.mousedown=h[I],h.mousemove=h[C],h.mouseup=h[T]),D||(a.allowPanToNext=!1)}}});var Ut,jt,Wt,Yt,Gt,Vt,Xt,Jt=function(t,n,i,s){Ut&&clearTimeout(Ut),Yt=!0,Wt=!0;var l;t.initialLayout?(l=t.initialLayout,t.initialLayout=null):l=a.getThumbBoundsFn&&a.getThumbBoundsFn(c);var d=i?a.hideAnimationDuration:a.showAnimationDuration,p=function(){Je("initialZoom"),i?(r.template.removeAttribute("style"),r.bg.removeAttribute("style")):(Ae(1),n&&(n.style.display="block"),o.addClass(e,"pswp--animated-in"),Te("initialZoom"+(i?"OutEnd":"InEnd"))),s&&s(),Yt=!1};if(!d||!l||void 0===l.x)return Te("initialZoom"+(i?"Out":"In")),v=t.initialZoomLevel,Re(pe,t.initialPosition),De(),e.style.opacity=i?0:1,Ae(1),void(d?setTimeout((function(){p()}),d):p());!(function(){var n=u,s=!r.currItem.src||r.currItem.loadError||a.showHideOpacity;t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),i||(v=l.w/t.w,pe.x=l.x,pe.y=l.y-F,r[s?"template":"bg"].style.opacity=.001,De()),$e("initialZoom"),i&&!n&&o.removeClass(e,"pswp--animated-in"),s&&(i?o[(n?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout((function(){o.addClass(e,"pswp--animate_opacity")}),30)),Ut=setTimeout((function(){if(Te("initialZoom"+(i?"Out":"In")),i){var r=l.w/t.w,a={x:pe.x,y:pe.y},u=v,c=ae,f=function(t){1===t?(v=r,pe.x=l.x,pe.y=l.y-P):(v=(r-u)*t+u,pe.x=(l.x-a.x)*t+a.x,pe.y=(l.y-P-a.y)*t+a.y),De(),s?e.style.opacity=1-t:Ae(c-t*c)};n?et("initialZoom",0,1,d,o.easing.cubic.out,f,p):(f(1),Ut=setTimeout(p,d+20))}else v=t.initialZoomLevel,Re(pe,t.initialPosition),De(),Ae(1),s?e.style.opacity=1:Ae(1),Ut=setTimeout(p,d+20)}),i?25:90)})()},$t={},Qt=[],en={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return jt.length}},tn=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},nn=function(e,t,n){var i=e.bounds;i.center.x=Math.round(($t.x-t)/2),i.center.y=Math.round(($t.y-n)/2)+e.vGap.top,i.max.x=t>$t.x?Math.round($t.x-t):i.center.x,i.max.y=n>$t.y?Math.round($t.y-n)+e.vGap.top:i.center.y,i.min.x=t>$t.x?0:i.center.x,i.min.y=n>$t.y?e.vGap.top:i.center.y},on=function(e,t,n){if(e.src&&!e.loadError){var i=!n;if(i&&(e.vGap||(e.vGap={top:0,bottom:0}),Te("parseVerticalMargin",e)),$t.x=t.x,$t.y=t.y-e.vGap.top-e.vGap.bottom,i){var o=$t.x/e.w,r=$t.y/e.h;e.fitRatio=o<r?o:r;var s=a.scaleMode;"orig"===s?n=1:"fit"===s&&(n=e.fitRatio),n>1&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds=tn())}if(!n)return;return nn(e,e.w*n,e.h*n),i&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=tn(),e.initialPosition=e.bounds.center,e.bounds},rn=function(e,t,n,i,o,a){t.loadError||i&&(t.imageAppended=!0,ln(t,i,t===r.currItem&&xe),n.appendChild(i),a&&setTimeout((function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)}),500))},an=function(e){e.loading=!0,e.loaded=!1;var t=e.img=o.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},sn=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=a.errorMsg.replace("%url%",e.src),!0},ln=function(e,t,n){if(e.src){t||(t=e.container.lastChild);var i=n?e.w:Math.round(e.w*e.fitRatio),o=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=i+"px",e.placeholder.style.height=o+"px"),t.style.width=i+"px",t.style.height=o+"px"}},un=function(){if(Qt.length){for(var e,t=0;t<Qt.length;t++)e=Qt[t],e.holder.index===e.index&&rn(e.index,e.item,e.baseDiv,e.img,0,e.clearPlaceholder);Qt=[]}};Ee("Controller",{publicMethods:{lazyLoadItem:function(e){e=_e(e);var t=Gt(e);t&&(!t.loaded&&!t.loading||x)&&(Te("gettingData",e,t),t.src&&an(t))},initController:function(){o.extend(a,en,!0),r.items=jt=n,Gt=r.getItemAt,Vt=a.getNumItemsFn,Xt=a.loop,Vt()<3&&(a.loop=!1),Ce("beforeChange",(function(e){var t,n=a.preload,i=null===e||e>=0,o=Math.min(n[0],Vt()),s=Math.min(n[1],Vt());for(t=1;t<=(i?s:o);t++)r.lazyLoadItem(c+t);for(t=1;t<=(i?o:s);t++)r.lazyLoadItem(c-t)})),Ce("initialLayout",(function(){r.currItem.initialLayout=a.getThumbBoundsFn&&a.getThumbBoundsFn(c)})),Ce("mainScrollAnimComplete",un),Ce("initialZoomInEnd",un),Ce("destroy",(function(){for(var e,t=0;t<jt.length;t++)e=jt[t],e.container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);Qt=null}))},getItemAt:function(e){return e>=0&&(void 0!==jt[e]&&jt[e])},allowProgressiveImg:function(){return a.forceProgressiveLoading||!D||a.mouseUsed||screen.width>1200},setContent:function(e,t){a.loop&&(t=_e(t));var n=r.getItemAt(e.index);n&&(n.container=null);var i,l=r.getItemAt(t);if(!l)return void(e.el.innerHTML="");Te("gettingData",t,l),e.index=t,e.item=l;var u=l.container=o.createEl("pswp__zoom-wrap");if(!l.src&&l.html&&(l.html.tagName?u.appendChild(l.html):u.innerHTML=l.html),sn(l),on(l,fe),!l.src||l.loadError||l.loaded)l.src&&!l.loadError&&(i=o.createEl("pswp__img","img"),i.style.opacity=1,i.src=l.src,ln(l,i),rn(0,l,u,i));else{if(l.loadComplete=function(n){if(s){if(e&&e.index===t){if(sn(n,!0))return n.loadComplete=n.img=null,on(n,fe),ke(n),void(e.index===c&&r.updateCurrZoomItem());n.imageAppended?!Yt&&n.placeholder&&(n.placeholder.style.display="none",n.placeholder=null):N.transform&&(ne||Yt)?Qt.push({item:n,baseDiv:u,img:n.img,index:t,holder:e,clearPlaceholder:!0}):rn(0,n,u,n.img,0,!0)}n.loadComplete=null,n.img=null,Te("imageLoadComplete",t,n)}},o.features.transform){var d="pswp__img pswp__img--placeholder";d+=l.msrc?"":" pswp__img--placeholder--blank";var p=o.createEl(d,l.msrc?"img":"");l.msrc&&(p.src=l.msrc),ln(l,p),u.appendChild(p),l.placeholder=p}l.loading||an(l),r.allowProgressiveImg()&&(!Wt&&N.transform?Qt.push({item:l,baseDiv:u,img:l.img,index:t,holder:e}):rn(0,l,u,l.img,0,!0))}Wt||t!==c?ke(l):(te=u.style,Jt(l,i||l.img)),e.el.innerHTML="",e.el.appendChild(u)},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var cn,dn={},pn=function(e,t,n){var i=document.createEvent("CustomEvent"),o={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};i.initCustomEvent("pswpTap",!0,!0,o),e.target.dispatchEvent(i)};Ee("Tap",{publicMethods:{initTap:function(){Ce("firstTouchStart",r.onTapStart),Ce("touchRelease",r.onTapRelease),Ce("destroy",(function(){dn={},cn=null}))},onTapStart:function(e){e.length>1&&(clearTimeout(cn),cn=null)},onTapRelease:function(e,t){if(t&&!Y&&!j&&!Xe){var n=t;if(cn&&(clearTimeout(cn),cn=null,yt(n,dn)))return void Te("doubleTap",n);if("mouse"===t.type)return void pn(e,t,"mouse");if("BUTTON"===e.target.tagName.toUpperCase()||o.hasClass(e.target,"pswp__single-tap"))return void pn(e,t);Re(dn,n),cn=setTimeout((function(){pn(e,t),cn=null}),300)}}}});var fn;Ee("DesktopZoom",{publicMethods:{initDesktopZoom:function(){R||(D?Ce("mouseUsed",(function(){r.setupDesktopZoom()})):r.setupDesktopZoom(!0))},setupDesktopZoom:function(t){fn={};var n="wheel mousewheel DOMMouseScroll";Ce("bindEvents",(function(){o.bind(e,n,r.handleMouseWheel)})),Ce("unbindEvents",(function(){fn&&o.unbind(e,n,r.handleMouseWheel)})),r.mouseZoomedIn=!1;var i,a=function(){r.mouseZoomedIn&&(o.removeClass(e,"pswp--zoomed-in"),r.mouseZoomedIn=!1),v<1?o.addClass(e,"pswp--zoom-allowed"):o.removeClass(e,"pswp--zoom-allowed"),s()},s=function(){i&&(o.removeClass(e,"pswp--dragging"),i=!1)};Ce("resize",a),Ce("afterChange",a),Ce("pointerDown",(function(){r.mouseZoomedIn&&(i=!0,o.addClass(e,"pswp--dragging"))})),Ce("pointerUp",s),t||a()},handleMouseWheel:function(e){if(v<=r.currItem.fitRatio)return a.modal&&(!a.closeOnScroll||Xe||U?e.preventDefault():A&&Math.abs(e.deltaY)>2&&(u=!0,r.close())),!0;if(e.stopPropagation(),fn.x=0,"deltaX"in e)1===e.deltaMode?(fn.x=18*e.deltaX,fn.y=18*e.deltaY):(fn.x=e.deltaX,fn.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(fn.x=-.16*e.wheelDeltaX),e.wheelDeltaY?fn.y=-.16*e.wheelDeltaY:fn.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;fn.y=e.detail}qe(v,!0);var t=pe.x-fn.x,n=pe.y-fn.y;(a.modal||t<=ee.min.x&&t>=ee.max.x&&n<=ee.min.y&&n>=ee.max.y)&&e.preventDefault(),r.panTo(t,n)},toggleDesktopZoom:function(t){t=t||{x:fe.x/2+he.x,y:fe.y/2+he.y};var n=a.getDoubleTapZoom(!0,r.currItem),i=v===n;r.mouseZoomedIn=!i,r.zoomTo(i?r.currItem.initialZoomLevel:n,t,333),o[(i?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var mn,hn,vn,gn,yn,wn,bn,xn,En,_n,In,Cn,Tn={history:!0,galleryUID:1},Sn=function(){return In.hash.substring(1)},An=function(){mn&&clearTimeout(mn),vn&&clearTimeout(vn)},Ln=function(){var e=Sn(),t={};if(e.length<5)return t;var n,i=e.split("&");for(n=0;n<i.length;n++)if(i[n]){var o=i[n].split("=");o.length<2||(t[o[0]]=o[1])}if(a.galleryPIDs){var r=t.pid;for(t.pid=0,n=0;n<jt.length;n++)if(jt[n].pid===r){t.pid=n;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},Dn=function(){if(vn&&clearTimeout(vn),Xe||U)return void(vn=setTimeout(Dn,500));gn?clearTimeout(hn):gn=!0;var e=c+1,t=Gt(c);t.hasOwnProperty("pid")&&(e=t.pid);var n=bn+"&gid="+a.galleryUID+"&pid="+e;xn||-1===In.hash.indexOf(n)&&(_n=!0);var i=In.href.split("#")[0]+"#"+n;Cn?"#"+n!==window.location.hash&&history[xn?"replaceState":"pushState"]("",document.title,i):xn?In.replace(i):In.hash=n,xn=!0,hn=setTimeout((function(){gn=!1}),60)};Ee("History",{publicMethods:{initHistory:function(){if(o.extend(a,Tn,!0),a.history){In=window.location,_n=!1,En=!1,xn=!1,bn=Sn(),Cn="pushState"in history,bn.indexOf("gid=")>-1&&(bn=bn.split("&gid=")[0],bn=bn.split("?gid=")[0]),Ce("afterChange",r.updateURL),Ce("unbindEvents",(function(){o.unbind(window,"hashchange",r.onHashChange)}));var e=function(){wn=!0,En||(_n?history.back():bn?In.hash=bn:Cn?history.pushState("",document.title,In.pathname+In.search):In.hash=""),An()};Ce("unbindEvents",(function(){u&&e()})),Ce("destroy",(function(){wn||e()})),Ce("firstUpdate",(function(){c=Ln().pid}));var t=bn.indexOf("pid=");t>-1&&(bn=bn.substring(0,t),"&"===bn.slice(-1)&&(bn=bn.slice(0,-1))),setTimeout((function(){s&&o.bind(window,"hashchange",r.onHashChange)}),40)}},onHashChange:function(){if(Sn()===bn)return En=!0,void r.close();gn||(yn=!0,r.goTo(Ln().pid),yn=!1)},updateURL:function(){An(),yn||(xn?mn=setTimeout(Dn,800):Dn())}}}),o.extend(r,tt)}}));var saferInnerHTML=function(e,t,n){"use strict";var i=null,o=function(e,t){t.forEach((function(t){"class"===t.att?e.className=t.value:"data-"===t.att.slice(0,5)?e.setAttribute(t.att,t.value||""):e[t.att]=t.value||""}))},r=function(e){return Array.from(e).map((function(e){return{att:e.name,value:e.value}}))},a=function(e){var t="text"===e.type?document.createTextNode(e.content):document.createElement(e.type);return o(t,e.atts),e.children.length>0?e.children.forEach((function(e){t.appendChild(a(e))})):"text"!==e.type&&(t.textContent=e.content),t},s=function(e){var t=[];return Array.from(e.childNodes).forEach((function(e){t.push({content:e.childNodes&&e.childNodes.length>0?null:e.textContent,atts:3===e.nodeType?[]:r(e.attributes),type:3===e.nodeType?"text":e.tagName.toLowerCase(),children:s(e)})})),t};if(!e)throw new Error("safeInnerHTML: Please provide a valid element to inject content into");if(!(function(){if(!Array.from||!window.DOMParser)return!1;i=i||new DOMParser;try{i.parseFromString("x","text/html")}catch(e){return!1}return!0})())throw new Error("safeInnerHTML: Your browser is not supported.");!(function(t){n||(e.innerHTML=""),t.forEach((function(t,n){e.appendChild(a(t))}))})(s(function(e){return i=i||new DOMParser,i.parseFromString(e,"text/html").body}(t)))};document.addEventListener("asmAllPets",(function(){window.petListingsFilter&&petListingsFilter()}),!1),document.addEventListener("asmIndividualPet",(function(){window.initPhotoSwipeFromDOM&&initPhotoSwipeFromDOM("[data-photoswipe]")}),!1),petListings();