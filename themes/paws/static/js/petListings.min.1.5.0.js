/*! paws v1.5.0 | (c) 2019 Chris Ferdinandi | MIT License | http://github.com/pawsnewengland/paws */
var petListingsCreateFilters=function(){"use strict";if(petListingData){var t,e,r,a,i,n,s,o,u,c,d=document.querySelector("[data-pet-listing-filters]"),l=document.querySelector("[data-pet-listings]"),f=JSON.parse(JSON.stringify(petListingData)),g=function(t){return t.replace(/ /g,"-").toLowerCase()},m=function(t,e,r){return'<label><input type="checkbox" data-asm-sort-type="'+r+'" data-asm-sort-target="'+g(t)+"_"+g(e)+'" checked="checked"> '+e+"</label>"},h=function(t,e,r){var a="<h2>"+e+"</h2>",i=e.toLowerCase(),n="breeds"===i?i:"attribute";return r&&(a+=m("toggle-all","Toggle All","toggle-all")),t.forEach((function(t){a+=m(i,t,n)})),a};if(d&&f)d.innerHTML=(t=[],f.find((function(t){return"Small"===t.size}))&&t.push("Small"),f.find((function(t){return"Medium"===t.size}))&&t.push("Medium"),f.find((function(t){return"Large"===t.size}))&&t.push("Large"),f.find((function(t){return"Very Large"===t.size}))&&t.push("Very Large"),n=t,e=[],f.find((function(t){return"Baby"===t.age}))&&e.push("Baby"),f.find((function(t){return"Young"===t.age}))&&e.push("Young"),f.find((function(t){return"Adult"===t.age}))&&e.push("Adult"),f.find((function(t){return"Senior"===t.age}))&&e.push("Senior"),s=e,r=[],f.find((function(t){return"Male"===t.sex}))&&r.push("Male"),f.find((function(t){return"Female"===t.sex}))&&r.push("Female"),o=r,a=[],f.forEach((function(t){t.breeds.forEach((function(t){-1===a.indexOf(t)&&a.push(t)}))})),u=a.sort(),'<div class="asm-filters margin-bottom" id="asm-filters">'+(h(n,"Sizes")+h(s,"Ages")+h(o,"Genders")+h(u,"Breeds",!0)+(i="<h2>Other Options</h2>",i+=m("options","No Dogs","attribute"),i+=m("options","No Cats","attribute"),i+=m("options","No Kids","attribute"),i+=m("options","Special Needs","attribute")))+'</div><div class="asm-filters-toggle"><p><button class="btn" data-asm-filters-toggle>Filter Results</button></p></div>'),l.prepend(((c=document.createElement("p")).setAttribute("data-no-matching-pets","true"),c.setAttribute("hidden","hidden"),c.textContent="There are no dogs matching your criteria.",c))}},petListingsFilter=function(){"use strict";var t=document.querySelectorAll("[data-asm-attribute]"),n=document.querySelectorAll('[data-asm-sort-type="breeds"]'),e=document.querySelectorAll('[data-asm-sort-type="attribute"]'),r=document.querySelector("[data-no-matching-pets]"),s="asmFilterState",a=function(t){Array.from(t).forEach((function(t){t.setAttribute("hidden","hidden")}))},o=function(){r.setAttribute("hidden","hidden"),a(t),Array.from(n).forEach((function(t){var e,r=document.querySelectorAll('[data-asm-attribute*="'+t.getAttribute("data-asm-sort-target")+'"]');!0===t.checked&&(e=r,Array.from(e).forEach((function(t){t.removeAttribute("hidden")})))})),Array.from(e).forEach((function(t){var e=document.querySelectorAll('[data-asm-attribute*="'+t.getAttribute("data-asm-sort-target")+'"]');!1===t.checked&&a(e)})),t.length>document.querySelectorAll("[data-asm-attribute][hidden]").length||r.removeAttribute("hidden")},u=function(t,e){e.checked?delete t[e.getAttribute("data-asm-sort-target")]:t[e.getAttribute("data-asm-sort-target")]=!1};document.documentElement.classList.add("asm-pet-listings-filter-loaded"),document.documentElement.addEventListener("click",(function(t){if(t.target.closest("[data-asm-filters-toggle]"))(e=document.querySelector("#asm-filters"))&&(e.classList.toggle("is-visible"),e.classList.contains("is-visible")&&(e.setAttribute("tabindex","-1"),e.focus()));else{var e,r=t.target.closest("[data-asm-sort-target]");if(r){var a,i="toggle-all"===r.getAttribute("data-asm-sort-type");i&&(a=r,Array.from(n).forEach((function(t){t.checked=a.checked}))),o(),(function(t,e){if(window.sessionStorage){var r=sessionStorage.getItem(s);(r=r?JSON.parse(r):{})[t.getAttribute("data-asm-sort-target")]=t.checked,u(r,t),e&&Array.prototype.filter.call(document.querySelectorAll('[data-asm-sort-type="breeds"]'),(function(t){u(r,t)})),sessionStorage.setItem(s,JSON.stringify(r))}})(r,i)}}}),!1),(function(){if(window.sessionStorage){var r=sessionStorage.getItem(s);r&&(r=JSON.parse(r),Object.keys(r).forEach((function(t){var e=document.querySelector('[data-asm-sort-target="'+t+'"]');e&&(e.checked=r[t])})))}})(),o()};window.petListingsCreateFilters&&(petListingsCreateFilters(),window.petListingsFilter&&petListingsFilter());