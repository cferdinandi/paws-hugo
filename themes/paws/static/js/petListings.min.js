/*! paws v1.5.0 | (c) 2019 Chris Ferdinandi | MIT License | http://github.com/pawsnewengland/paws */
var petListingsCreateFilters=function(){"use strict";var t=document.querySelector("[data-pet-listing-filters]");if(petListingData){var e,r,a,i,s,n,o,u,c,l=JSON.parse(JSON.stringify(petListingData)),d=function(t){return t.replace(/ /g,"-").toLowerCase()},f=function(t,e,r){return'<label><input type="checkbox" data-asm-sort-type="'+r+'" data-asm-sort-target="'+d(t)+"_"+d(e)+'" checked="checked"> '+e+"</label>"},g=function(t,e,r){var a="<h2>"+e+"</h2>",i=e.toLowerCase(),s="breeds"===i?i:"attribute";return r&&(a+=f("toggle-all","Toggle All","toggle-all")),t.forEach((function(t){a+=f(i,t,s)})),a};if(t&&l)t.innerHTML=(e=[],l.find((function(t){return"Small"===t.size}))&&e.push("Small"),l.find((function(t){return"Medium"===t.size}))&&e.push("Medium"),l.find((function(t){return"Large"===t.size}))&&e.push("Large"),l.find((function(t){return"Very Large"===t.size}))&&e.push("Very Large"),n=e,r=[],l.find((function(t){return"Baby"===t.age}))&&r.push("Baby"),l.find((function(t){return"Young"===t.age}))&&r.push("Young"),l.find((function(t){return"Adult"===t.age}))&&r.push("Adult"),l.find((function(t){return"Senior"===t.age}))&&r.push("Senior"),o=r,a=[],l.find((function(t){return"Male"===t.sex}))&&a.push("Male"),l.find((function(t){return"Female"===t.sex}))&&a.push("Female"),u=a,i=[],l.forEach((function(t){t.breeds.forEach((function(t){-1===i.indexOf(t)&&i.push(t)}))})),c=i.sort(),'<div class="asm-filters margin-bottom" id="asm-filters">'+(g(n,"Sizes")+g(o,"Ages")+g(u,"Genders")+g(c,"Breeds",!0)+(s="<h2>Other Options</h2>",s+=f("options","No Dogs","attribute"),s+=f("options","No Cats","attribute"),s+=f("options","No Kids","attribute"),s+=f("options","Special Needs","attribute")))+'</div><div class="asm-filters-toggle"><p><button class="btn" data-asm-filters-toggle>Filter Results</button></p></div>')}},petListingsFilter=function(){"use strict";var t=document.querySelectorAll("[data-asm-attribute]"),s=document.querySelectorAll('[data-asm-sort-type="breeds"]'),e=document.querySelectorAll('[data-asm-sort-type="attribute"]'),n="asmFilterState",r=function(t){Array.from(t).forEach((function(t){t.setAttribute("hidden","hidden")}))},o=function(){r(t),Array.from(s).forEach((function(t){var e,r=document.querySelectorAll('[data-asm-attribute*="'+t.getAttribute("data-asm-sort-target")+'"]');!0===t.checked&&(e=r,Array.from(e).forEach((function(t){t.removeAttribute("hidden")})))})),Array.from(e).forEach((function(t){var e=document.querySelectorAll('[data-asm-attribute*="'+t.getAttribute("data-asm-sort-target")+'"]');!1===t.checked&&r(e)}))},u=function(t,e){e.checked?delete t[e.getAttribute("data-asm-sort-target")]:t[e.getAttribute("data-asm-sort-target")]=!1};document.documentElement.classList.add("asm-pet-listings-filter-loaded"),document.documentElement.addEventListener("click",(function(t){if(t.target.closest("[data-asm-filters-toggle]"))(e=document.querySelector("#asm-filters"))&&(e.classList.toggle("is-visible"),e.classList.contains("is-visible")&&(e.setAttribute("tabindex","-1"),e.focus()));else{var e,r=t.target.closest("[data-asm-sort-target]");if(r){var a,i="toggle-all"===r.getAttribute("data-asm-sort-type");i&&(a=r,Array.from(s).forEach((function(t){t.checked=a.checked}))),o(),(function(t,e){if(window.sessionStorage){var r=sessionStorage.getItem(n);(r=r?JSON.parse(r):{})[t.getAttribute("data-asm-sort-target")]=t.checked,u(r,t),e&&Array.prototype.filter.call(document.querySelectorAll('[data-asm-sort-type="breeds"]'),(function(t){u(r,t)})),sessionStorage.setItem(n,JSON.stringify(r))}})(r,i)}}}),!1),(function(){if(window.sessionStorage){var r=sessionStorage.getItem(n);r&&(r=JSON.parse(r),Object.keys(r).forEach((function(t){var e=document.querySelector('[data-asm-sort-target="'+t+'"]');e&&(e.checked=r[t])})))}})(),o()};window.petListingsCreateFilters&&(petListingsCreateFilters(),window.petListingsFilter&&petListingsFilter());